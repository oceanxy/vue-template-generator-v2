/*! For license information please see 476.673e5a5e.js.LICENSE.txt */
"use strict";(self.webpackChunkvue_template_generator_v2=self.webpackChunkvue_template_generator_v2||[]).push([[476],{41476:function(n,t,e){e.d(t,{A:function(){return R}});e(52675),e(89463),e(62062),e(62010),e(40875),e(10287),e(26099),e(3362),e(98992),e(81454);var o=e(20641),r=e(50953),u=e(23659),i=e(37543),l=e(47564),a=e(77197),c=e(71250),f=e(13221),s=e(64391),d=e(8442),v=e(2680),h=e(97339),p=e(63225),m=e(71430),b=e(21228),g=e(65633),y=e(44983),F=e(91144),w=e(67467),A=e(25887);function S(){var n,t,e="function"==typeof Symbol?Symbol:{},o=e.iterator||"@@iterator",r=e.toStringTag||"@@toStringTag";function u(e,o,r,u){var a=o&&o.prototype instanceof l?o:l,c=Object.create(a.prototype);return z(c,"_invoke",function(e,o,r){var u,l,a,c=0,f=r||[],s=!1,d={p:0,n:0,v:n,a:v,f:v.bind(n,4),d:function(t,e){return u=t,l=0,a=n,d.n=e,i}};function v(e,o){for(l=e,a=o,t=0;!s&&c&&!r&&t<f.length;t++){var r,u=f[t],v=d.p,h=u[2];e>3?(r=h===o)&&(a=u[(l=u[4])?5:(l=3,3)],u[4]=u[5]=n):u[0]<=v&&((r=e<2&&v<u[1])?(l=0,d.v=o,d.n=u[1]):v<h&&(r=e<3||u[0]>o||o>h)&&(u[4]=e,u[5]=o,d.n=h,l=0))}if(r||e>1)return i;throw s=!0,o}return function(r,f,h){if(c>1)throw TypeError("Generator is already running");for(s&&1===f&&v(f,h),l=f,a=h;(t=l<2?n:a)||!s;){u||(l?l<3?(l>1&&(d.n=-1),v(l,a)):d.n=a:d.v=a);try{if(c=2,u){if(l||(r="next"),t=u[r]){if(!(t=t.call(u,a)))throw TypeError("iterator result is not an object");if(!t.done)return t;a=t.value,l<2&&(l=0)}else 1===l&&(t=u.return)&&t.call(u),l<2&&(a=TypeError("The iterator does not provide a '"+r+"' method"),l=1);u=n}else if((t=(s=d.n<0)?a:e.call(o,d))!==i)break}catch(t){u=n,l=1,a=t}finally{c=1}}return{value:t,done:s}}}(e,r,u),!0),c}var i={};function l(){}function a(){}function c(){}t=Object.getPrototypeOf;var f=[][o]?t(t([][o]())):(z(t={},o,function(){return this}),t),s=c.prototype=l.prototype=Object.create(f);function d(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,c):(n.__proto__=c,z(n,r,"GeneratorFunction")),n.prototype=Object.create(s),n}return a.prototype=c,z(s,"constructor",c),z(c,"constructor",a),a.displayName="GeneratorFunction",z(c,r,"GeneratorFunction"),z(s),z(s,r,"Generator"),z(s,o,function(){return this}),z(s,"toString",function(){return"[object Generator]"}),(S=function(){return{w:u,m:d}})()}function z(n,t,e,o){var r=Object.defineProperty;try{r({},"",{})}catch(n){r=0}z=function(n,t,e,o){function u(t,e){z(n,t,function(n){return this._invoke(t,e,n)})}t?r?r(n,t,{value:e,enumerable:!o,configurable:!o,writable:!o}):n[t]=e:(u("next",0),u("throw",1),u("return",2))},z(n,t,e,o)}function k(n,t,e,o,r,u,i){try{var l=n[u](i),a=l.value}catch(n){return void e(n)}l.done?t(a):Promise.resolve(a).then(o,r)}var C=function(){var n=(0,A.A)("/common"),t=(0,w.rd)().push,e=(0,o.EW)(function(){return n.showMenu});function r(){var n;return n=S().m(function n(){return S().w(function(n){for(;;)switch(n.n){case 0:if(!e.value){n.n=1;break}return n.n=1,t({name:"Home"});case 1:return n.a(2)}},n)}),r=function(){var t=this,e=arguments;return new Promise(function(o,r){var u=n.apply(t,e);function i(n){k(u,o,r,i,l,"next",n)}function l(n){k(u,o,r,i,l,"throw",n)}i(void 0)})},r.apply(this,arguments)}return(0,o.bF)("div",{class:"tg-logo",onClick:function(){return r.apply(this,arguments)},title:F.A.systemName},[(0,o.bF)((0,o.g2)("IconFont"),{type:"icon-logo"},null),F.A.systemName])},x=e(40698),W=e(20146);const O={small:"小",middle:"中",large:"大"};var j=e(69948),G=e(63894),N=e(12897),_=e.n(N),T=e(55042),I=e.n(T),P=new(_())({id:"tg-icon-moon",use:"tg-icon-moon-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24" id="tg-icon-moon">\r\n  <path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z" />\r\n</symbol>'}),M=(I().add(P),new(_())({id:"tg-icon-sun",use:"tg-icon-sun-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24" id="tg-icon-sun">\r\n  <path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z" />\r\n  <path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z" />\r\n  <path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z" />\r\n  <path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z" />\r\n  <path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z" />\r\n  <path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z" />\r\n  <path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z" />\r\n  <path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z" />\r\n  <path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z" />\r\n</symbol>'}));I().add(M);function E(){var n,t,e="function"==typeof Symbol?Symbol:{},o=e.iterator||"@@iterator",r=e.toStringTag||"@@toStringTag";function u(e,o,r,u){var a=o&&o.prototype instanceof l?o:l,c=Object.create(a.prototype);return B(c,"_invoke",function(e,o,r){var u,l,a,c=0,f=r||[],s=!1,d={p:0,n:0,v:n,a:v,f:v.bind(n,4),d:function(t,e){return u=t,l=0,a=n,d.n=e,i}};function v(e,o){for(l=e,a=o,t=0;!s&&c&&!r&&t<f.length;t++){var r,u=f[t],v=d.p,h=u[2];e>3?(r=h===o)&&(a=u[(l=u[4])?5:(l=3,3)],u[4]=u[5]=n):u[0]<=v&&((r=e<2&&v<u[1])?(l=0,d.v=o,d.n=u[1]):v<h&&(r=e<3||u[0]>o||o>h)&&(u[4]=e,u[5]=o,d.n=h,l=0))}if(r||e>1)return i;throw s=!0,o}return function(r,f,h){if(c>1)throw TypeError("Generator is already running");for(s&&1===f&&v(f,h),l=f,a=h;(t=l<2?n:a)||!s;){u||(l?l<3?(l>1&&(d.n=-1),v(l,a)):d.n=a:d.v=a);try{if(c=2,u){if(l||(r="next"),t=u[r]){if(!(t=t.call(u,a)))throw TypeError("iterator result is not an object");if(!t.done)return t;a=t.value,l<2&&(l=0)}else 1===l&&(t=u.return)&&t.call(u),l<2&&(a=TypeError("The iterator does not provide a '"+r+"' method"),l=1);u=n}else if((t=(s=d.n<0)?a:e.call(o,d))!==i)break}catch(t){u=n,l=1,a=t}finally{c=1}}return{value:t,done:s}}}(e,r,u),!0),c}var i={};function l(){}function a(){}function c(){}t=Object.getPrototypeOf;var f=[][o]?t(t([][o]())):(B(t={},o,function(){return this}),t),s=c.prototype=l.prototype=Object.create(f);function d(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,c):(n.__proto__=c,B(n,r,"GeneratorFunction")),n.prototype=Object.create(s),n}return a.prototype=c,B(s,"constructor",c),B(c,"constructor",a),a.displayName="GeneratorFunction",B(c,r,"GeneratorFunction"),B(s),B(s,r,"Generator"),B(s,o,function(){return this}),B(s,"toString",function(){return"[object Generator]"}),(E=function(){return{w:u,m:d}})()}function B(n,t,e,o){var r=Object.defineProperty;try{r({},"",{})}catch(n){r=0}B=function(n,t,e,o){function u(t,e){B(n,t,function(n){return this._invoke(t,e,n)})}t?r?r(n,t,{value:e,enumerable:!o,configurable:!o,writable:!o}):n[t]=e:(u("next",0),u("throw",1),u("return",2))},B(n,t,e,o)}function L(n,t,e,o,r,u,i){try{var l=n[u](i),a=l.value}catch(n){return void e(n)}l.done?t(a):Promise.resolve(a).then(o,r)}function H(n){return function(){var t=this,e=arguments;return new Promise(function(o,r){var u=n.apply(t,e);function i(n){L(u,o,r,i,l,"next",n)}function l(n){L(u,o,r,i,l,"throw",n)}i(void 0)})}}var R={name:"TGLayoutHeader",setup:function(){var n,t,e=(0,o.nI)().proxy,S=(0,x.Am)(),z=((0,r.KR)(1),(0,w.rd)().push,(0,A.A)("/common")),k=(0,A.A)("/login"),N=(0,W.A)().adjustHexBrightness,_=(0,o.EW)(function(){return z.collapsed}),T=(0,o.EW)(function(){return z.showMenu}),I=(0,o.EW)(function(){return k.loading}),P=(0,o.EW)(function(){return k.details.userInfo||{}}),M=(0,o.EW)({get:function(){return z.fontSize},set:function(n){return z.fontSize=n}}),B=(0,o.EW)(function(){var n=P.value.nickName||P.value.fullName;return n?n.at(-1).toUpperCase():""}),L=(0,u.A.useToken)().token,R=(0,o.EW)(function(){return"defaultAlgorithm"===z.algorithm?{background:N(L.value.colorPrimary,-10),color:L.value.colorWhite,fontSize:L.value.fontSizeLG}:{background:N(L.value.colorPrimary,-80),color:L.value.colorWhite,fontSize:L.value.fontSizeLG}}),U=(0,r.KR)(localStorage.getItem("".concat(S,"-theme"))||(null==k||null===(n=k.userInfo)||void 0===n?void 0:n.themeFileName)||(null===(t=F.A.header)||void 0===t||null===(t=t.buttons)||void 0===t?void 0:t.theme.default)),V=e.headerBodyFunctions,K=e.globalFunctions,q=e.userFunctions;function D(){return J.apply(this,arguments)}function J(){return(J=H(E().m(function n(){return E().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,k.logout();case 1:return n.a(2)}},n)}))).apply(this,arguments)}function Q(n,t){return X.apply(this,arguments)}function X(){return(X=H(E().m(function n(t,e){return E().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,rn({algorithm:t,isCompactAlgorithm:e?1:0});case 1:z.algorithm=t,z.isCompactAlgorithm=e;case 2:return n.a(2)}},n)}))).apply(this,arguments)}function Y(){return Z.apply(this,arguments)}function Z(){return(Z=H(E().m(function n(){var t;return E().w(function(n){for(;;)switch(n.n){case 0:return t=(0,j.getScreenInfo)(),n.n=1,rn({componentSize:t.componentSize,fontSize:t.fontSize});case 1:z.componentSize=t.componentSize,z.fontSize=t.fontSize;case 2:return n.a(2)}},n)}))).apply(this,arguments)}function $(n){return nn.apply(this,arguments)}function nn(){return(nn=H(E().m(function n(t){return E().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,rn({fontSize:t});case 1:z.fontSize=t;case 2:return n.a(2)}},n)}))).apply(this,arguments)}function tn(n){return en.apply(this,arguments)}function en(){return(en=H(E().m(function n(t){return E().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,rn({componentSize:t.target.value});case 1:z.componentSize=t.target.value;case 2:return n.a(2)}},n)}))).apply(this,arguments)}function on(){return(on=H(E().m(function n(t){return E().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,rn({themeFileName:t});case 1:U.value=t,localStorage.setItem("".concat(S,"-theme"),t),k.details.userInfo.themeFileName=t,z.themeName=t;case 2:return n.a(2)}},n)}))).apply(this,arguments)}function rn(n){return un.apply(this,arguments)}function un(){return(un=H(E().m(function n(t){return E().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,z.fetch({loading:!1,apiName:"updateThemeConfig",params:t});case 1:return n.a(2)}},n)}))).apply(this,arguments)}return(0,o.hi)(function(){}),function(){var n,t,e,r,u,w,A;return(0,o.bF)(i.Ay.Header,{class:"tg-layout-header",style:R.value},{default:function(){return[(0,o.bF)(C,{style:"font-size: ".concat(L.value.fontSizeLG,"px")},null),(0,o.bF)("div",{class:"tg-layout-header-content"},[T.value&&(0,o.bF)((0,o.g2)("IconFont"),{type:"icon-global-sq",class:["tg-header-layout-menu-toggle","menu-btn-fold",{reverse:_.value}],onClick:z.setCollapsed,title:_.value?"展开菜单":"折叠菜单"},null),(0,o.bF)("div",{class:"tg-header-body"},[!!V&&(0,o.bF)(V,null,null)]),(0,o.bF)("div",{class:"tg-header-info"},[!!V&&(0,o.bF)(l.A,{type:"vertical",class:"tg-header-divider",style:{background:L.value.colorSplit}},null),(0,o.bF)(a.Ay,{overlayClassName:"tg-header-user-overlay",arrow:{pointAtCenter:!0}},{default:function(){return(0,o.bF)("div",{class:"tg-header-user-content"},[(0,o.bF)(c.A,{spinning:I.value,indicator:(0,o.bF)(G.A,null,null),wrapperClassName:"tg-header-user-spin-content".concat(I.value?" blur":"")},{default:function(){return[(0,o.bF)(f.Ay,{shape:"circle",style:{backgroundColor:L.value.colorPrimaryBgHover,color:L.value.colorPrimary,fontWeight:"bolder",fontSize:"".concat(L.value.fontSizeLG,"px")}},{default:function(){return[B.value]}}),(0,o.bF)("div",{class:"tg-user-info"},[(0,o.bF)("div",{class:"tg-header-username",style:"font-size: ".concat(L.value.fontSizeLG,"px")},[P.value.nickName||P.value.fullName||"暂无用户名"]),(0,o.bF)("div",{class:"tg-header-tel"},[P.value.loginName])]),(0,o.bF)((0,o.g2)("IconFont"),{type:"icon-global-down",style:{color:"#ffffff"}},null)]}})])},overlay:function(){var n,t;return(0,o.bF)(s.Ay,null,{default:function(){return[!!q&&(0,o.bF)(q,null,null),(null===(n=F.A.header)||void 0===n||null===(n=n.buttons)||void 0===n||null===(n=n.logout)||void 0===n?void 0:n.show)&&(0,o.bF)(s.Ay.Item,{onClick:D},{default:function(){return[null===(t=F.A.header)||void 0===t||null===(t=t.buttons)||void 0===t||null===(t=t.logout)||void 0===t?void 0:t.text]}})]}})}}),!!K&&(0,o.bF)(K,null,null),((null===(n=F.A.header)||void 0===n||null===(n=n.buttons)||void 0===n||null===(n=n.algorithm)||void 0===n?void 0:n.show)||(null===(t=F.A.header)||void 0===t||null===(t=t.buttons)||void 0===t||null===(t=t.fontSize)||void 0===t?void 0:t.show)||(null===(e=F.A.header)||void 0===e||null===(e=e.buttons)||void 0===e||null===(e=e.theme)||void 0===e?void 0:e.show))&&(0,o.bF)(l.A,{type:"vertical",class:"tg-header-divider",style:{background:L.value.colorSplit}},null),(0,o.bF)(d.Ay,{class:"tg-header-functions",size:L.value.fontSizeSM},{default:function(){return[(null===(r=F.A.header)||void 0===r||null===(r=r.buttons)||void 0===r||null===(r=r.algorithm)||void 0===r?void 0:r.show)&&(0,o.bF)(v.A,{style:{width:"8ic"},placement:"bottomRight",title:"布局模式配置"},{default:function(){return(0,o.bF)(h.Ay,{checked:z.algorithm,"onUpdate:checked":function(n){return z.algorithm=n},checkedValue:"defaultAlgorithm",unCheckedValue:"darkAlgorithm",onChange:function(n){return Q(n,z.isCompactAlgorithm)}},{checkedChildren:function(){return(0,o.bF)("svg",null,[(0,o.bF)("use",{"xlink:href":"#tg-icon-sun"},null)])},unCheckedChildren:function(){return(0,o.bF)("svg",null,[(0,o.bF)("use",{"xlink:href":"#tg-icon-moon"},null)])}})},content:function(){return(0,o.bF)(d.Ay,{direction:"vertical"},{default:function(){return[(0,o.bF)("div",null,[(0,o.eW)("当前为"),"defaultAlgorithm"===z.algorithm?"亮色":"暗色",(0,o.eW)("模式")]),(0,o.bF)("div",null,[(0,o.eW)("启用紧凑布局："),(0,o.bF)(p.Ay,{checked:z.isCompactAlgorithm,"onUpdate:checked":function(n){return z.isCompactAlgorithm=n},onChange:function(n){return Q(z.algorithm,n.target.checked)}},null)])]}})}}),(null===(u=F.A.header)||void 0===u||null===(u=u.buttons)||void 0===u||null===(u=u.fontSize)||void 0===u?void 0:u.show)&&(0,o.bF)(v.A,{placement:"bottomRight",title:null===(w=F.A.header)||void 0===w||null===(w=w.buttons)||void 0===w?void 0:w.fontSize.text},{default:function(){var n;return(0,o.bF)((0,o.g2)("IconFont"),{type:"icon-global-font-size",title:null===(n=F.A.header)||void 0===n||null===(n=n.buttons)||void 0===n||null===(n=n.fontSize)||void 0===n?void 0:n.text},null)},content:function(){return(0,o.bF)(d.Ay,{direction:"vertical"},{default:function(){return[(0,o.bF)("div",null,[(0,o.eW)("当前全局字号："),z.fontSize,(0,o.eW)("px")]),(0,o.bF)(m.A,{value:M.value,"onUpdate:value":function(n){return M.value=n},onAfterChange:$,min:12,max:20},null),(0,o.bF)("div",null,[(0,o.eW)("当前组件尺寸："),O[z.componentSize]]),(0,o.bF)(b.A,{value:z.componentSize,"onUpdate:value":function(n){return z.componentSize=n},class:"tg-header-component-size",size:"default",onChange:tn},{default:function(){return[(0,o.bF)(g.Ay,{value:"small"},{default:function(){return[(0,o.eW)("小")]}}),(0,o.bF)(g.Ay,{value:"middle"},{default:function(){return[(0,o.eW)("中")]}}),(0,o.bF)(g.Ay,{value:"large"},{default:function(){return[(0,o.eW)("大")]}})]}}),(z.componentSize!==(0,j.getScreenInfo)().componentSize||z.fontSize!==(0,j.getScreenInfo)().fontSize)&&(0,o.bF)("div",{style:{marginTop:"10px"}},[(0,o.bF)(y.A,{type:"primary",onClick:Y},{default:function(){return[(0,o.eW)("恢复默认值")]}})])]}})}}),(null===(A=F.A.header)||void 0===A||null===(A=A.buttons)||void 0===A||null===(A=A.theme)||void 0===A?void 0:A.show)&&(0,o.bF)(a.Ay,{placement:"bottomRight",arrow:!0},{default:function(){var n;return(0,o.bF)((0,o.g2)("IconFont"),{type:"icon-global-hf",title:null===(n=F.A.header)||void 0===n||null===(n=n.buttons)||void 0===n||null===(n=n.theme)||void 0===n?void 0:n.text},null)},overlay:function(){var n;return(0,o.bF)(s.Ay,null,{default:function(){return[null===(n=F.A.header)||void 0===n||null===(n=n.buttons)||void 0===n||null===(n=n.theme)||void 0===n?void 0:n.availableThemes.map(function(n){return(0,o.bF)(s.Ay.Item,{disabled:U.value===n.fileName,onClick:function(){return function(n){return on.apply(this,arguments)}(n.fileName)}},{default:function(){return[n.name]}})})]}})}})]}})])])]}})}}}}}]);