/*! For license information please see 891.3a73d0a0.js.LICENSE.txt */
"use strict";(self.webpackChunkvue_template_generator_v2=self.webpackChunkvue_template_generator_v2||[]).push([[891],{95067:function(e,t,n){n.r(t),n.d(t,{default:function(){return st}});var r=n(20641),o=(n(52675),n(89463),n(2259),n(2008),n(23418),n(34782),n(62010),n(83851),n(81278),n(40875),n(10287),n(27495),n(90906),n(54520),n(3949),n(23500),n(45700),n(28706),n(23792),n(62062),n(89572),n(2892),n(79432),n(26099),n(3362),n(38781),n(47764),n(98992),n(81454),n(37550),n(62953),n(74423),n(21699),n(5746),n(41907)),i=n(80708),a=n(71250),u=n(40698),l=n(44983),c=n(91144),s=n(30134),f=n(13709),d=n(25887);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={name:"TGContainerWithSider",props:{contentClass:{type:String,default:""},siderClass:{type:String,default:""},siderOnLeft:{type:Boolean,default:!1},showSiderTrigger:{type:Boolean,default:!1}},setup:function(e,t){var n=t.slots,o=t.emit,i=(0,d.A)("/common"),a=(0,r.EW)(function(){return e.siderClass?" ".concat(e.siderClass):""}),u=(0,r.EW)({get:function(){return i.treeCollapsed},set:function(e){i.treeCollapsed=e}});function p(){u.value=!u.value}return(0,r.wB)(u,function(){setTimeout(function(){o("sidebarSwitch")},200)}),function(){var t,o;return(0,r.bF)("div",{class:{"tg-container-with-sider":!0,"tree-collapsed":u.value}},[(0,r.bF)("div",{class:v({"tg-container-with-sider--content":!0},e.contentClass,!!e.contentClass)},[null===(t=n.default)||void 0===t?void 0:t.call(n)]),(0,r.bF)("div",{style:{order:e.siderOnLeft?-1:1},class:v(v({"tg-container-with-sider--sider":!0},a.value,!!a.value),"hide",u.value)},[null===(o=n.sider)||void 0===o?void 0:o.call(n),e.showSiderTrigger&&"hasTree"===c.A.siderTree.togglePosition?(0,r.bF)(l.A,{class:"tg-container-trigger",icon:u.value?(0,r.bF)(f.A,null,null):(0,r.bF)(s.A,null,null),type:"link",onClick:p},null):null])])}}},b=n(2543),m=n(50953),h=n(67467),g=n(65518),w=n(26364);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function S(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof u?r:u,c=Object.create(l.prototype);return P(c,"_invoke",function(n,r,o){var i,u,l,c=0,s=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,l=e,d.n=n,a}};function p(n,r){for(u=n,l=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],p=d.p,v=i[2];n>3?(o=v===r)&&(l=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<v&&(o=n<3||i[0]>r||r>v)&&(i[4]=n,i[5]=r,d.n=v,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,v){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,v),u=s,l=v;(t=u<2?e:l)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,l)):d.n=l:d.v=l);try{if(c=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?l:n.call(r,d))!==a)break}catch(t){i=e,u=1,l=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function u(){}function l(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(P(t={},r,function(){return this}),t),f=c.prototype=u.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,P(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=c,P(f,"constructor",c),P(c,"constructor",l),l.displayName="GeneratorFunction",P(c,o,"GeneratorFunction"),P(f),P(f,o,"Generator"),P(f,r,function(){return this}),P(f,"toString",function(){return"[object Generator]"}),(S=function(){return{w:i,m:d}})()}function P(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}P=function(e,t,n,r){function i(t,n){P(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},P(e,t,n,r)}function j(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=T(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function F(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function A(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){F(i,r,o,a,u,"next",e)}function u(e){F(i,r,o,a,u,"throw",e)}a(void 0)})}}function E(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){if(e){if("string"==typeof e)return k(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach(function(t){I(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function I(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==O(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R={name:"TGContainerWithTreeSider",props:x(x({},o.Ay.props),{},{getCustomIcon:{type:Function,default:void 0},contentClass:{type:String,default:""},treeDataOptions:{type:Object,default:function(){return{}}},defaultExpandedKeys:{type:Array,default:function(){return[]}},notNoneMode:{type:Boolean,default:!1},getFieldNameForTreeId:{type:Function,default:function(e){return"treeId"}},injectSearchParamsOfTable:{type:Function,default:function(e){return{}}},placeholder:{type:String,default:"请输入关键字搜索"},actionsForUpdateTree:{type:Array,default:function(){return[]}},fieldNames:{type:Object,default:function(){return{children:"children",title:"name",key:"id"}}}}),setup:function(e,t){var n,l,s,f,p,v=t.slots,O=t.expose,P=(0,r.WQ)("initSearchParameters"),F=(0,d.A)(),T=null!==(n=null===(l=e.treeDataOptions)||void 0===l?void 0:l.storeName)&&void 0!==n?n:h.Ay.currentRoute.value.name,k=null!==(s=null===(f=e.treeDataOptions)||void 0===f?void 0:f.stateName)&&void 0!==s?s:"dataSource";p=T===h.Ay.currentRoute.value.name?F:(0,d.A)(T);var N=(0,m.KR)([]),R=(0,r.EW)(function(){return p[k].list}),C=(0,r.EW)(function(){return p[k].loading}),D=(0,m.KR)(null),q=(0,m.KR)(!1),W=(0,m.KR)([]),G=(0,m.KR)(""),K=(0,m.KR)([]),L=(0,m.KR)(""),_=(0,m.KR)(!1),M=(0,r.EW)(function(){return F.treeIdField}),B=(0,r.EW)(function(){return[F.search[M.value]]}),Q=(0,r.EW)(function(){var e;return K.value.length?K.value:G.value?$(R.value):_.value?K.value:null!==(e=W.value)&&void 0!==e&&e.length?W.value:$(R.value,!0)});function z(){return U.apply(this,arguments)}function U(){return(U=A(S().m(function t(){var n;return S().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,p.getList(x({stateName:null===(n=e.treeDataOptions)||void 0===n?void 0:n.stateName,apiName:e.treeDataOptions.apiName},e.treeDataOptions));case 1:return t.a(2,t.v)}},t)}))).apply(this,arguments)}function $(t,n){var r,o,i,a=[],u=e.fieldNames.key,l=null!==(r=null===(o=e.fieldNames)||void 0===o?void 0:o.children)&&void 0!==r?r:[],c=j(t);try{for(c.s();!(i=c.n()).done;){var s,f=i.value;if((f.isParent||Array.isArray(f[l])&&null!==(s=f[l])&&void 0!==s&&s.length)&&(a.push(f[u]),a=a.concat($(f[l],n))),n)break}}catch(e){c.e(e)}finally{c.f()}return a}function H(t,n){var r,o;if(!Array.isArray(t)||"string"!=typeof n)return[];if(""===n)return[];var i,a=(0,b.cloneDeep)(t),u=[],l=e.fieldNames.title,c=null!==(r=null===(o=e.fieldNames)||void 0===o?void 0:o.children)&&void 0!==r?r:[],s=j(a);try{for(s.s();!(i=s.n()).done;){var f=i.value;f[l].includes(n)?u.push(f):Array.isArray(f[c])&&f[c].length&&(f[c]=H(f[c],n),f[c].length&&u.push(f))}}catch(e){s.e(e)}finally{s.f()}return u}function V(e,t){return Y.apply(this,arguments)}function Y(){return(Y=A(S().m(function t(n,r){var o,i,a;return S().w(function(t){for(;;)switch(t.n){case 0:if(!Object.keys(h.Ay.currentRoute.value.query).length){t.n=2;break}return t.n=1,h.Ay.push({query:{},params:x(x({},e.injectSearchParamsOfTable(r.node.dataRef)),{},I({},M.value,n[0]))});case 1:t.n=3;break;case 2:i=e.getFieldNameForTreeId(r.node.pos.split("-").length-1),L.value!==i&&(L.value&&F.setSearchParams(x(x({},e.injectSearchParamsOfTable(r.node.dataRef)),{},I({},L.value,void 0))),F.treeIdField=i,L.value=i),r.selected?o=x(x({},e.injectSearchParamsOfTable(r.node.dataRef)),{},I({},M.value,n[0])):M.value&&(o=x(x({},e.injectSearchParamsOfTable(e.notNoneMode?R.value[0]:{})),{},I({},M.value,e.notNoneMode?null===(a=R.value[0])||void 0===a?void 0:a[e.fieldNames.key]:""))),M.value&&o[M.value]!==B.value[0]&&P({searchParams:o});case 3:return t.a(2)}},t)}))).apply(this,arguments)}function X(){}function J(e){K.value=[],G.value=e.target.value}function Z(e,t){var n=t.expanded;_.value=!n,K.value=e}function ee(){return(ee=A(S().m(function t(){var n,r;return S().w(function(t){for(;;)switch(t.n){case 0:if(q.value){t.n=2;break}return t.n=1,(0,u.yy)(100);case 1:t.n=0;break;case 2:if(!q.value.status){t.n=3;break}return t.a(2,Promise.resolve(x(x(x({},e.injectSearchParamsOfTable(null!==(n=R.value[0])&&void 0!==n?n:{})),{},I({},M.value,null===(r=R.value[0])||void 0===r?void 0:r[e.fieldNames.key]),h.Ay.currentRoute.value.query),h.Ay.currentRoute.value.params)));case 3:if("canceled"===q.value.message||30001===+q.value.code){t.n=4;break}return t.a(2,Promise.reject(new Error("未获取到树数据，已停止加载后续所有的依赖功能！")));case 4:return t.a(2,Promise.resolve(q.value));case 5:return t.a(2)}},t)}))).apply(this,arguments)}return(0,r.Gt)("getRefOfChild",function(e){return D.value=e}),(0,r.Gt)("hasTree",!0),(0,r.Gt)("searchParamNameRequired",[e.getFieldNameForTreeId()].concat(E(Object.keys(e.injectSearchParamsOfTable({}))))),(0,r.Gt)("refreshTree",z),(0,r.wB)(G,function(e){N.value=H(R.value,e)}),(0,r.KC)(A(S().m(function t(){var n;return S().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,z();case 1:q.value=t.v,W.value=[].concat(E(e.defaultExpandedKeys),[h.Ay.currentRoute.value.query[e.getFieldNameForTreeId()],h.Ay.currentRoute.value.params[e.getFieldNameForTreeId()]]).filter(function(e){return void 0!==e}),n=e.getFieldNameForTreeId(1),F.setState("treeIdField",n),L.value=n;case 2:return t.a(2)}},t)}))),e.notNoneMode&&(F.taskQueues.treeNode=[function(){return ee.apply(this,arguments)}()]),O({treeExpand:function(e){Z(e,{expanded:!0})}}),function(){return(0,r.bF)(y,{class:"tg-container-with-tree-sider",siderClass:"tg-container-with-tree-sider--sider",contentClass:"tg-container-with-tree-sider--content".concat(e.contentClass?" ".concat(e.contentClass):""),siderOnLeft:!0,onSidebarSwitch:X,showSiderTrigger:c.A.siderTree.showTrigger},{default:v.default,sider:function(){return(0,r.bF)("div",{class:"tg-search-tree-container"},[(0,r.bF)(i.Ay,{prefix:(0,r.bF)(g.A,null,null),allowClear:!0,placeholder:e.placeholder,onChange:(0,b.debounce)(J,300)},null),(0,r.bF)(a.A,{spinning:C.value},{default:function(){return[(0,r.bF)(o.Ay,(0,r.v6)(e,{showLine:!0,showIcon:!0,blockNode:!0,selectedKeys:B.value,onSelect:V,expandedKeys:Q.value,onExpand:Z,treeData:N.value.length?N.value:R.value}),{switcherIcon:function(e){var t=e.switcherCls;return(0,r.bF)(w.A,{class:t},null)},title:function(t){return G.value&&t[e.fieldNames.title].indexOf(G.value)>-1?(0,r.bF)("span",null,[t[e.fieldNames.title].substring(0,t[e.fieldNames.title].indexOf(G.value)),(0,r.bF)("span",{style:{color:"var(--tg-theme-color-primary)"}},[G.value]),t[e.fieldNames.title].substring(t[e.fieldNames.title].indexOf(G.value)+G.value.length)]):t[e.fieldNames.title]}})]}})])}})}}},C=n(18787),D=n(8442),q=["isInitData","showTree","contentWrapperClassName","showPageTitle","isPagination","optionsOfGetList","injectSearchParamsOfTable"];function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function G(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||L(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=L(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function L(e,t){if(e){if("string"==typeof e)return _(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function M(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof u?r:u,c=Object.create(l.prototype);return B(c,"_invoke",function(n,r,o){var i,u,l,c=0,s=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,l=e,d.n=n,a}};function p(n,r){for(u=n,l=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],p=d.p,v=i[2];n>3?(o=v===r)&&(l=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<v&&(o=n<3||i[0]>r||r>v)&&(i[4]=n,i[5]=r,d.n=v,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,v){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,v),u=s,l=v;(t=u<2?e:l)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,l)):d.n=l:d.v=l);try{if(c=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?l:n.call(r,d))!==a)break}catch(t){i=e,u=1,l=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function u(){}function l(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(B(t={},r,function(){return this}),t),f=c.prototype=u.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,B(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=c,B(f,"constructor",c),B(c,"constructor",l),l.displayName="GeneratorFunction",B(c,o,"GeneratorFunction"),B(f),B(f,o,"Generator"),B(f,r,function(){return this}),B(f,"toString",function(){return"[object Generator]"}),(M=function(){return{w:i,m:d}})()}function B(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}B=function(e,t,n,r){function i(t,n){B(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},B(e,t,n,r)}function Q(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function z(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Q(i,r,o,a,u,"next",e)}function u(e){Q(i,r,o,a,u,"throw",e)}a(void 0)})}}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach(function(t){H(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function H(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=W(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==W(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V={name:"TGContainer",inheritAttrs:!1,props:$({storeName:{type:String,default:null},isInitData:{type:Boolean,default:void 0},showTree:{type:Boolean,default:!1},showPageTitle:{type:Boolean,default:!0},contentWrapperClassName:{type:String,default:""},isPagination:{type:Boolean,default:void 0},optionsOfGetList:{type:Object,default:function(){return{}}},injectSearchParamsOfTable:{type:Function,default:void 0}},R.props),slots:{inquiry:{},table:{},default:{},content:{},tableOperation:{},tableColumn:{}},setup:function(e,t){var n=t.slots,o=t.attrs,i=t.expose,a=e.isInitData,u=e.showTree,l=e.contentWrapperClassName,c=e.showPageTitle,s=e.isPagination,f=e.optionsOfGetList,p=e.injectSearchParamsOfTable,v=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,q);(0,r.Gt)("storeName",e.storeName);var y=(0,d.A)(e.storeName);(0,r.Gt)("pageStore",y);var b=(0,m.KR)(null),g=(0,r.EW)(function(){if("dataSource"in y.$state)return"boolean"==typeof a?a:!!n.table;throw new Error("".concat(y.$id,".dataSource is not defined"))}),w=(0,r.EW)(function(){if("pagination"in y.$state)return"boolean"==typeof s?s:!!n.table;throw new Error("".concat(y.$id,".pagination is not defined"))});(0,r.Gt)("initSearchParameters",S),(0,r.Gt)("isInitData",g),(0,r.Gt)("optionsOfGetList",e.optionsOfGetList);var O=(0,r.EW)(function(){return y.taskQueues});function S(){return P.apply(this,arguments)}function P(){return P=z(M().m(function e(){var t,o,i,a,l,c,s,d,v,b,m,h,S,P,F,A=arguments;return M().w(function(e){for(;;)switch(e.p=e.n){case 0:if(o=(t=A.length>0&&void 0!==A[0]?A[0]:{}).isFirstTime,i=void 0!==o&&o,a=t.searchParams,l={},e.p=1,!(u&&i&&Array.isArray(O.value.treeNode))){e.n=4;break}return e.n=2,Promise.all(O.value.treeNode);case 2:if(!(c=e.v).some(function(e){return"canceled"===(null==e?void 0:e.message)})){e.n=3;break}return e.a(2);case 3:s=K(c);try{for(s.s();!(d=s.n()).done;)v=d.value,l=$($({},l),v)}catch(e){s.e(e)}finally{s.f()}y.setSearchParams(l);case 4:if(u||"function"!=typeof p||(l=p({})),!i){e.n=15;break}if(!n.inquiry){e.n=11;break}if(Array.isArray(O.value.required)){e.n=5;break}return e.a(2);case 5:return e.n=6,Promise.all(O.value.required.map(function(e){return e()}));case 6:if(m=e.v,!(null!==(b=O.value.required)&&void 0!==b&&b.length&&!m.length||m.some(function(e){return"canceled"===(null==e?void 0:e.message)}))){e.n=7;break}return e.a(2);case 7:if(!m.some(function(e){return!e.status})){e.n=8;break}return C.Ay.error("页面加载异常，请稍后再试。"),e.a(2,void 0);case 8:if(Array.isArray(O.value.notRequired)){e.n=9;break}return e.a(2);case 9:return e.n=10,Promise.all([j($({},l))].concat(G(O.value.notRequired.map(function(e){return e()}))));case 10:for(h=e.v,S=0,P=[].concat(G(m),G(h));S<P.length;S++)(F=P[S]).status&&"function"==typeof F.execListener&&F.execListener();e.n=14;break;case 11:if(!g.value){e.n=14;break}if(!Object.keys(l).length){e.n=13;break}return e.n=12,j($({},l));case 12:e.n=14;break;case 13:return e.n=14,y.execSearch($({isPagination:w.value,isTable:!!n.table},null!=f?f:{}));case 14:e.n=17;break;case 15:if(y.setSearchParams(a),!g.value){e.n=17;break}return e.n=16,(0,r.dY)();case 16:return e.n=17,y.execSearch($({isPagination:w.value,isTable:!!n.table},null!=f?f:{}));case 17:e.n=19;break;case 18:e.p=18,e.v,"dataSource"in y.$state&&(y.dataSource.loading=!1);case 19:return e.a(2)}},e,null,[[1,18]])})),P.apply(this,arguments)}function j(e){return F.apply(this,arguments)}function F(){return(F=z(M().m(function e(t){return M().w(function(e){for(;;)switch(e.n){case 0:if(!g.value){e.n=2;break}return e.n=1,y.saveParamsAndExecSearch($({searchParams:t,isResetSelectedRows:!!n.table,isPagination:w.value,isTable:!!n.table},null!=f?f:{}));case 1:return e.a(2,e.v);case 2:return e.a(2,Promise.resolve({status:!0,message:"当前页面不存在列表或不执行列表数据初始化。"}));case 3:return e.a(2)}},e)}))).apply(this,arguments)}function A(){return[n.inquiry&&(0,r.bF)("div",{class:"tg-container-inquiry-wrapper"},[n.inquiry()]),n.chart&&(0,r.bF)("div",{class:"tg-container-chart-wrapper"},[n.chart()]),n.table?(0,r.bF)("div",{class:"tg-container-table-wrapper"},[n.table()]):n.default&&(0,r.bF)("div",{class:H({"tg-container-content-wrapper":!0},l,!!l)},[(0,r.bF)("div",{class:"tg-container-content-main"},[n.default()]),n.bottomFunctions&&(0,r.bF)("div",{class:"tg-container-bottom-functions"},[n.bottomFunctions()])]),n.modals&&n.modals()]}return(0,r.sV)(z(M().m(function e(){return M().w(function(e){for(;;)switch(e.n){case 0:return g.value||(y.dataSource.loading=!1),n.inquiry||(y.taskQueues.required=[],y.taskQueues.notRequired=[]),e.n=1,S({isFirstTime:!0});case 1:return e.a(2)}},e)}))),i(e.showTree?{treeExpand:function(e){b.value.treeExpand(e)}}:void 0),function(){var e,t;return(0,r.bF)("div",{class:H({"tg-container":!0},o.class,!!o.class)},[(c||n.function||n.subtitle)&&(0,r.bF)("div",{class:"tg-container-title-wrapper"},[(0,r.bF)("div",{class:"tg-container-title"},[c&&(0,r.bF)(D.Ay,{class:"tg-container-title-content"},{default:function(){return[h.Ay.currentRoute.value.meta.icon&&(0,r.bF)((0,r.g2)("IconFont"),{type:h.Ay.currentRoute.value.meta.icon},null),h.Ay.currentRoute.value.meta.title]}}),n.function&&(0,r.bF)("div",{class:"tg-container-function"},[n.function()])]),n.subtitle&&(0,r.bF)("div",{class:"tg-container-subtitle"},[n.subtitle()])]),u?(0,r.bF)(R,(0,r.v6)({ref:b,class:"tg-container-content",injectSearchParamsOfTable:p},v),(t=e=A(),"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!(0,r.vv)(t)?e:{default:function(){return[e]}})):(0,r.bF)("div",{class:"tg-container-content"},[A()])])}}},Y=n(39668),X=n(98202);n(9391),n(8872);function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}var Z=["identification","disabledType"];function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach(function(t){ne(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ne(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=J(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==J(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re,oe=(0,u.Am)();try{re=JSON.parse(localStorage.getItem("".concat(oe,"-buttonPermissions")))}catch(e){re={}}var ie=1,ae=2;var ue={name:"TGPermissionsButton",props:te(te({},l.A.props),{},{identification:{type:String,required:!0},disabledType:{type:Number,default:ae}}),setup:function(e,t){var n=t.slots,o=t.events,i=(0,r.EW)(function(){var t;return!!c.A.buttonPermissions&&!(null!==(t=re)&&void 0!==t&&null!==(t=t[h.Ay.currentRoute.value.name])&&void 0!==t&&t.includes(e.identification))}),a=(0,r.EW)(function(){var t=e.identification,n=e.disabledType,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Z);return{identification:t,disabledType:n,buttonProps:te(te({},r),{},{disabled:i.value||r.disabled})}});return function(){var e,t;return a.value.disabledType===ae&&i.value?null:(0,r.bF)(l.A,(0,r.v6)(a.value.buttonProps,o),{default:function(){return[null===(e=n.icon)||void 0===e?void 0:e.call(n),null===(t=n.default)||void 0===t?void 0:t.call(n)]}})}}},le=n(96198),ce=n(14208),se=n(55066);function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}var de=["listener","condition","dependentField"];function pe(e){return function(e){if(Array.isArray(e))return ve(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ve(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ye(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function be(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof u?r:u,c=Object.create(l.prototype);return me(c,"_invoke",function(n,r,o){var i,u,l,c=0,s=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,l=e,d.n=n,a}};function p(n,r){for(u=n,l=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],p=d.p,v=i[2];n>3?(o=v===r)&&(l=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<v&&(o=n<3||i[0]>r||r>v)&&(i[4]=n,i[5]=r,d.n=v,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,v){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,v),u=s,l=v;(t=u<2?e:l)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,l)):d.n=l:d.v=l);try{if(c=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?l:n.call(r,d))!==a)break}catch(t){i=e,u=1,l=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function u(){}function l(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(me(t={},r,function(){return this}),t),f=c.prototype=u.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,me(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=c,me(f,"constructor",c),me(c,"constructor",l),l.displayName="GeneratorFunction",me(c,o,"GeneratorFunction"),me(f),me(f,o,"Generator"),me(f,r,function(){return this}),me(f,"toString",function(){return"[object Generator]"}),(be=function(){return{w:i,m:d}})()}function me(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}me=function(e,t,n,r){function i(t,n){me(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},me(e,t,n,r)}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach(function(t){we(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function we(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=fe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function Se(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Oe(i,r,o,a,u,"next",e)}function u(e){Oe(i,r,o,a,u,"throw",e)}a(void 0)})}}var Pe={name:"AccountInquiry",setup:function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.searchParamOptions,n=e.buttonDisabledFn,o=e.rules,i=void 0===o?{}:o,a=e.formattingParameters,u=e.showResetButton,s=void 0===u||u,f=e.buttonText,p=void 0===f?{query:"查询",reset:"重置"}:f,v=(0,r.WQ)("isInitData",!0),y=(0,r.WQ)("optionsOfGetList",{}),b=(0,r.WQ)("searchParamNameRequired",[]),h=(0,d.A)(),w=(0,d.A)("/common"),O=(0,r.EW)(function(){return w.treeCollapsed}),S=(0,r.EW)(function(){return w.inquiryFormCollapsed}),P=(0,r.EW)(function(){return null!=y&&y.location?h[y.location].dataSource.loading:h.dataSource.loading}),j=(0,r.EW)(function(){return y.location?h[null==y?void 0:y.location].form:h.search}),F=(0,m.Kh)(j.value),A=(0,m.Kh)(i),E=(0,m.KR)(!1),T=(0,m.KR)(!0);"function"==typeof n&&(0,r.wB)(F,function(){return E.value=n()});var k=Y.Ay.useForm(F,A),N=k.resetFields,x=k.validate,I=k.validateInfos;function R(){return C.apply(this,arguments)}function C(){return(C=Se(be().m(function e(){return be().w(function(e){for(;;)switch(e.n){case 0:if(N(b.reduce(function(e,t){return e[t]=j.value[t],e},{})),T.value||E.value){e.n=1;break}return e.n=1,q();case 1:T.value=!0;case 2:return e.a(2)}},e)}))).apply(this,arguments)}function q(){return new Promise(function(e){x().then(Se(be().m(function e(){return be().w(function(e){for(;;)switch(e.n){case 0:return T.value=!1,e.n=1,h.saveParamsAndExecSearch(ge({paramsForGetList:a,isMergeParam:!0},null!=y?y:{}));case 1:return e.a(2)}},e)}))).finally(function(){return e()})})}function W(e,t){return e&&t.paramNameInSearchRO?function(){return(0,r.wB)(function(){return j.value[t.paramNameInSearchRO]},function(){var e=Se(be().m(function e(n,r){return be().w(function(e){for(;;)switch(e.n){case 0:if(!(t.isRequired&&n&&n!==r||!t.isRequired&&n!==r)){e.n=1;break}if(!v){e.n=1;break}return e.n=1,h.execSearch();case 1:return e.a(2)}},e)}));return function(t,n){return e.apply(this,arguments)}}())}:null}function G(e){return Se(be().m(function t(){var n,o,i,a,u,l,c;return be().w(function(t){for(;;)switch(t.n){case 0:if(n=e.listener,o=e.condition,i=e.dependentField,a=ye(e,de),"boolean"==typeof(u="function"==typeof o?o(h.$state):o)&&!u){t.n=4;break}if(!i){t.n=1;break}return l="function"==typeof i?i(h.$state):i,t.a(2,new Promise(function(t){(0,r.wB)(function(){return j.value[l]},function(){var r=Se(be().m(function r(o,i){var u,l;return be().w(function(r){for(;;)switch(r.n){case 0:if(o===i){r.n=7;break}if(h.search[e.paramNameInSearchRO]="",h.setList(a.stateName,[],a.location),"function"!=typeof a.customData){r.n=3;break}return r.n=1,a.customData(o);case 1:if(l=r.v,Array.isArray(l)){r.n=2;break}throw new Error("自定义枚举 ".concat(a.stateName," 的 customData 函数返回值必须为一个数组。"));case 2:h.setState(a.stateName,l),u={status:!0,data:l},r.n=6;break;case 3:if(a.apiName){r.n=4;break}throw new Error("非自定义枚举 ".concat(a.stateName," 必须指定 apiName。"));case 4:return r.n=5,h.getList(a);case 5:u=r.v;case 6:u.execListener=W(n,e),t(u);case 7:return r.a(2)}},r)}));return function(e,t){return r.apply(this,arguments)}}(),{immediate:!0})}));case 1:return t.n=2,h.getList(a);case 2:return(c=t.v).execListener=W(n,e),t.a(2,c);case 3:t.n=6;break;case 4:if(!a.isRequired){t.n=5;break}return t.a(2,{status:!1,message:"请求 ".concat(a.apiName," 接口前，执行条件未通过。")});case 5:return t.a(2,{status:!0,message:"请求 ".concat(a.apiName," 接口前，执行条件未通过，已跳过。")});case 6:return t.a(2)}},t)}))}(0,r.sV)(Se(be().m(function e(){var n,r,o;return be().w(function(e){for(;;)switch(e.n){case 0:n=(t||[]).reduce(function(e,t){return t.isRequired?(b.push(t.paramNameInSearchRO),e.required.push(G(t))):e.notRequired.push(G(t)),e},{required:[],notRequired:[]}),Array.isArray(h.taskQueues.required)?(r=h.taskQueues.required).push.apply(r,pe(n.required)):h.taskQueues.required=n.required,Array.isArray(h.taskQueues.notRequired)?(o=h.taskQueues.notRequired).push.apply(o,pe(n.notRequired)):h.taskQueues.notRequired=n.notRequired;case 1:return e.a(2)}},e)}))),(0,r.hi)(Se(be().m(function e(){return be().w(function(e){for(;;)switch(e.n){case 0:return T.value=!0,e.n=1,R();case 1:h.$reset();case 2:return e.a(2)}},e)})));var K={name:"TGInquiryForm",props:{fixedColumns:{type:Boolean,default:!1},buttonPermissionIdentification:{type:String,default:"QUERY"},disabledButtonPermission:{type:Boolean,default:!1}},setup:function(e,t){var n=t.slots,o=(0,m.KR)(),i=(0,m.KR)(!0);function a(){return u.apply(this,arguments)}function u(){return(u=Se(be().m(function e(){var t;return be().w(function(e){for(;;)switch(e.n){case 0:t=o.value.parentNode.clientHeight-o.value.clientHeight,o.value.parentNode.style.height=o.value.parentNode.clientHeight+"px",o.value.classList.toggle("collapsed"),w.inquiryFormCollapsed=!S.value,o.value.parentNode.style.height=o.value.clientHeight+t+"px";case 1:return e.a(2)}},e)}))).apply(this,arguments)}return(0,r.wB)(function(){var e;return null===(e=o.value)||void 0===e||null===(e=e.querySelectorAll("& > .ant-form-item"))||void 0===e?void 0:e.length},function(t){return i.value=e.fixedColumns&&t>7},{immediate:!0}),(0,r.hi)(function(){w.inquiryFormCollapsed=!0}),function(){var t,u;return(0,r.bF)(Y.Ay,{class:"tg-inquiry-form".concat(e.fixedColumns?" fixed":"").concat(O.value?" tg-inquiry-side-toggle-reverse":""),layout:"inline",colon:!1},{default:function(){return[(0,r.bF)("div",{class:"tg-inquiry-form-content"},[null===(t=n.others)||void 0===t?void 0:t.call(n,F),n.default&&(0,r.bF)("div",{ref:o,class:"tg-inquiry-row-for-fields collapsed"},[null===(u=n.default)||void 0===u?void 0:u.call(n,F),(0,r.bF)(D.Ay,{class:"tg-inquiry-row-for-buttons"},{default:function(){return[c.A.buttonPermissions&&!e.disabledButtonPermission?[(0,r.bF)(ue,{type:"primary",key:"query-1",icon:(0,r.bF)(g.A,null,null),loading:P.value,disabledType:ie,disabled:P.value||E.value,identification:e.buttonPermissionIdentification,onClick:q},{default:function(){return[(null==p?void 0:p.query)||"查询"]}}),s&&(0,r.bF)(ue,{key:"reset-1",icon:(0,r.bF)(le.A,null,null),disabledType:ie,disabled:P.value,identification:e.buttonPermissionIdentification,onClick:R},{default:function(){return[T.value||E.value?"重置参数":(null==p?void 0:p.reset)||"重置"]}})]:[(0,r.bF)(l.A,{key:"query-2",type:"primary",icon:(0,r.bF)(g.A,null,null),disabled:P.value||E.value,loading:P.value,onClick:q},{default:function(){return[(null==p?void 0:p.query)||"查询"]}}),s&&(0,r.bF)(l.A,{key:"reset-2",icon:(0,r.bF)(le.A,null,null),disabled:P.value,onClick:R},{default:function(){return[T.value||E.value?"重置参数":(null==p?void 0:p.reset)||"重置"]}})]]}})])]),i.value&&(0,r.bF)("div",{class:"tg-inquiry-form-collapse-button"},[(0,r.bF)(l.A,{icon:S.value?(0,r.bF)(ce.A,null,null):(0,r.bF)(se.A,null,null),onClick:a},null)])]}})}}};return{validateInfos:I,resetFields:N,handleFinish:q,formModel:F,store:h,commonStore:w,treeCollapsed:O,buttonDisabled:E,loading:P,handleClear:R,TGInquiryForm:K}}(),t=e.TGInquiryForm,n=e.formModel;return function(){return(0,r.bF)(t,{fixedColumns:!0},{default:function(){return[(0,r.bF)(Y.Ay.Item,{label:"状态"},{default:function(){return[(0,r.bF)(X.Ay,{value:n.status,"onUpdate:value":function(e){return n.status=e},options:[{label:"全部",value:""},{label:"启用",value:1},{label:"停用",value:0}]},null)]}}),(0,r.bF)(Y.Ay.Item,{label:"姓名"},{default:function(){return[(0,r.bF)(i.Ay,{value:n.fullName,"onUpdate:value":function(e){return n.fullName=e},maxLength:4,placeholder:"请输入姓名",allowClear:!0},null)]}})]}})}}},je=(n(48980),n(54554),n(36033),n(31415),n(25440),n(74391)),Fe=n(20146),Ae=n(15529),Ee=n(74353),Te=n.n(Ee);function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function Ne(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof u?r:u,c=Object.create(l.prototype);return xe(c,"_invoke",function(n,r,o){var i,u,l,c=0,s=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,l=e,d.n=n,a}};function p(n,r){for(u=n,l=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],p=d.p,v=i[2];n>3?(o=v===r)&&(l=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<v&&(o=n<3||i[0]>r||r>v)&&(i[4]=n,i[5]=r,d.n=v,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,v){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,v),u=s,l=v;(t=u<2?e:l)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,l)):d.n=l:d.v=l);try{if(c=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?l:n.call(r,d))!==a)break}catch(t){i=e,u=1,l=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function u(){}function l(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(xe(t={},r,function(){return this}),t),f=c.prototype=u.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,xe(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=c,xe(f,"constructor",c),xe(c,"constructor",l),l.displayName="GeneratorFunction",xe(c,o,"GeneratorFunction"),xe(f),xe(f,o,"Generator"),xe(f,r,function(){return this}),xe(f,"toString",function(){return"[object Generator]"}),(Ne=function(){return{w:i,m:d}})()}function xe(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}xe=function(e,t,n,r){function i(t,n){xe(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},xe(e,t,n,r)}function Ie(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function Re(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Ie(i,r,o,a,u,"next",e)}function u(e){Ie(i,r,o,a,u,"throw",e)}a(void 0)})}}function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach(function(t){qe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ke(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ke(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(e){return function(e){if(Array.isArray(e))return Ge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ge(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ge(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isStaticTable,n=e.stateName,o=void 0===n?"dataSource":n,i=e.location,a=e.modalStatusFieldName,l=e.open,c=e.isInjectRouterQuery,s=e.getDataSource,f=e.props,p=void 0===f?{}:f,v=e.showSerialNumberColumn,y=void 0===v||v,g=e.optionsOfGetList,w=void 0===g?{}:g,O=e.handleExpand,S=e.handleSortChange,P=null,j=(0,r.WQ)("inModal",null),F=(0,r.WQ)("hasTree",null),A=(0,r.WQ)("refreshTree",null),E=(0,r.WQ)("getRefOfChild",null),T=null,k=(0,Fe.A)().token,N=(0,d.A)("/common"),x=(0,d.A)(),I=(0,m.KR)(null),R=(0,m.KR)(!1);!l&&a?T=(0,r.EW)(function(){return x[a]}):l&&(T=l);var D,q,W,G,K,L,_,M,B=(0,r.EW)(function(){return x.currentItem}),Q=(0,r.EW)(function(){return"function"==typeof s?s(x):i?x[i][o].list:x[o].list});i?(_=(0,r.EW)(function(){var e;return null===(e=x[i])||void 0===e?void 0:e.rowKey}),D=(0,r.EW)(function(){var e;return null===(e=x[i])||void 0===e?void 0:e.pagination}),q=(0,r.EW)(function(){var e,t,n,r;return(null!==(e=null===(t=D.value)||void 0===t?void 0:t.pageIndex)&&void 0!==e?e:0)*(null!==(n=null===(r=D.value)||void 0===r?void 0:r.pageSize)&&void 0!==n?n:10)}),W=(0,r.EW)(function(){return x[i][o].loading}),G=(0,r.EW)(function(){return x[i].selectedRowKeys}),K=(0,r.EW)(function(){return x[i].selectedRows}),L=(0,r.EW)(function(){return x[i].sortFieldList}),M=(0,r.EW)(function(){return x[i].expandedRowKeys})):(_=(0,r.EW)(function(){return x.rowKey||"id"}),D=(0,r.EW)(function(){return x.pagination}),q=(0,r.EW)(function(){var e,t,n,r;return(null!==(e=null===(t=D.value)||void 0===t?void 0:t.pageIndex)&&void 0!==e?e:0)*(null!==(n=null===(r=D.value)||void 0===r?void 0:r.pageSize)&&void 0!==n?n:10)}),W=(0,r.EW)(function(){return x[o].loading}),G=(0,r.EW)(function(){return x.selectedRowKeys}),K=(0,r.EW)(function(){return x.selectedRows}),L=(0,r.EW)(function(){return x.sortFieldList}),M=(0,r.EW)(function(){return x.expandedRowKeys}));var z=(0,r.EW)(function(){return!1!==(null==p?void 0:p.pagination)&&"[object Object]"===Object.prototype.toString.call(D.value)}),U=[{title:"序号",width:70,align:"center",fixed:!0,customRender:function(e){var t=e.record,n=e.index;return"[object Object]"===Object.prototype.toString.call(t)?(t._sn=n+1+q.value,t._sn):n+1+q.value}}],$=(0,r.EW)(function(){var e=p.columns;return"function"==typeof p.columns&&(e=p.columns()),y?[].concat(U,We(e||[])):e||[]}),H=(0,m.Kh)(De(De({rowKey:_.value,dataSource:[],columns:$.value,loading:W,bordered:!1,tableLayout:"fixed",size:N.componentSize,rowClassName:function(e,t){return t%2==1?"tg-table-striped":""}},p),{},{expandedRowKeys:M.value,rowSelection:p.rowSelection?De({selections:!0,fixed:!0,columnWidth:50,onChange:function(e,t){x.setState("selectedRows",t)},selectedRowKeys:[]},p.rowSelection):null,pagination:!!z.value&&De({showQuickJumper:!0,showTotal:function(e){return"共 ".concat(e," 条数据")},size:N.componentSize},p.pagination),scroll:{x:"max-content"},onChange:ee,onExpand:function(e,t){return ne.apply(this,arguments)}}));function V(){return Y.apply(this,arguments)}function Y(){return Y=Re(Ne().m(function e(){var t,n,r,a,u,l,s,f=arguments;return Ne().w(function(e){for(;;)switch(e.n){case 0:if(n=(t=f.length>0&&void 0!==f[0]?f[0]:{}).paramsForGetList,r=t.isMergeParam,a=void 0!==r&&r,u=t.isPagination,l=void 0!==u&&u,s="function"==typeof(null==w?void 0:w.paramsForGetList)?w.paramsForGetList(x.$state):w.paramsForGetList,i){e.n=2;break}return e.n=1,x.getList(De(De({stateName:o},w),{},{paramsForGetList:De(De(De({},n),s),c?h.Ay.currentRoute.value.query:{}),isMergeParam:c||"boolean"!=typeof a?w.isMergeParam:a,isPagination:"boolean"==typeof w.isPagination?w.isPagination:l}));case 1:case 4:return e.a(2,e.v);case 2:if(null!=w&&w.apiName){e.n=3;break}throw new Error("location 为真值时，apiName 必传。");case 3:return e.n=4,x.getList(De(De({location:i,stateName:o},w),{},{isPagination:"boolean"==typeof w.isPagination?w.isPagination:l,paramsForGetList:De(De({},n),s),isMergeParam:!0}));case 5:return e.a(2)}},e)})),Y.apply(this,arguments)}function X(){return X=Re(Ne().m(function e(){var t,n,o,a,l,c,f,d,p,v,y,b,m,h,g,w,O,S,P,F,A,E,T,N,I,R,D,q=arguments;return Ne().w(function(e){for(;;)switch(e.n){case 0:if(n=(t=q.length>0&&void 0!==q[0]?q[0]:{}).checked,o=t.record,a=t.fieldName,l=void 0===a?"status":a,c=t.actualFieldName,f=void 0===c?"status":c,d=t.idKey,p=void 0===d?"id":d,v=t.getIds,y=void 0===v?function(e){return(j?e[x[i].rowKey]:e[x.rowKey])||e.id}:v,b=t.nameKey,m=void 0===b?"fullName":b,h=t.apiName,g=t.stateName,w=void 0===g?"dataSource":g,O=t.customStatusValue,S=void 0===O?{OPENED:1,CLOSED:0}:O,P=t.optimisticUpdate,F=void 0===P||P,"function"==typeof y){e.n=1;break}throw new Error("getIds 必须是一个函数");case 1:if(A=Array.isArray(o),!(E=A?null==o?void 0:o.map(function(e){return y(e)}):[y(o)]).some(function(e){return!e})){e.n=2;break}throw new Error("获取操作行的ID时出现异常，请检查ID是否存在，或 getIds 函数是否正确定义。");case 2:return e.n=3,x.updateRowStatus({location:i,fieldName:l,stateName:w,apiName:h,payload:qe(qe({},p,A?E:E[0]),l,n?S.OPENED:S.CLOSED)});case 3:if(!e.v){e.n=5;break}if("function"==typeof m?C.Ay.success(m()):(T=(0,u._y)(m,o),A?C.Ay.success("批量更新状态已完成！"):C.Ay.success([T?[(0,r.bF)("span",{style:{color:"".concat(k.value.colorPrimary)}},[T]),"的"]:"","状态已更新。"])),!F){e.n=4;break}"function"==typeof s?N=s(x):(I=i?x[i][w]:x[w],N=Array.isArray(I)?I:I.list||[]),R=new Map(N.map(function(e,t){return[y(e),t]})),D=function(e){var t=R.get(e);void 0!==t&&(N[t][f]=n?S.OPENED:S.CLOSED)},A?E.forEach(function(e){return D(e)}):D(y(o)),e.n=5;break;case 4:return e.n=5,V();case 5:return e.a(2)}},e)})),X.apply(this,arguments)}function J(){return J=Re(Ne().m(function e(t){var n,o=arguments;return Ne().w(function(e){for(;;)switch(e.n){case 0:return n=De({idFieldName:"ids",nameKey:"fullName",getIds:function(e){return e[x.rowKey]}},n=o.length>1&&void 0!==o[1]?o[1]:{}),e.n=1,(0,Ae.qp)(Re(Ne().m(function e(){var r,o,i;return Ne().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,x.fetch({action:"delete",params:De(De({},n.params),{},qe({},n.idFieldName,n.getIds(t))),isRefreshTable:!0});case 1:if(!(r=e.v).status){e.n=3;break}if(!F||!n.isRefreshTree){e.n=2;break}return e.n=2,null==A?void 0:A();case 2:"function"==typeof n.done&&n.done(),null!==(o=K.value)&&void 0!==o&&o.length&&(i=K.value.findIndex(function(e){return e[_.value]===t[_.value]}))>=0&&K.value.splice(i,1);case 3:return e.a(2,r.status)}},e)})),n.message?n.message:"确定要删除吗？",t[n.nameKey]?[(0,r.bF)("span",{style:{color:k.value.colorPrimary}},[t[n.nameKey]])," 已成功删除！"]:"删除成功！");case 1:return e.a(2)}},e)})),J.apply(this,arguments)}function Z(){return Z=Re(Ne().m(function e(t){var n,r,o,i,a,u,l,c,s;return Ne().w(function(e){for(;;)switch(e.n){case 0:return n=t.params,r=t.apiName,o=t.fileName,i=t.location,a=t.isMergeParam,u=t.modalStatusFieldName,l=t.isTimeName,c=void 0!==l&&l,C.Ay.loading({content:"正在导出，请稍候...",duration:0}),R.value=!0,s=function(){return"[".concat(Te()(new Date).format("YYYYMMDDHHmmss"),"]")},e.n=1,x.exportData({params:n,apiName:r,location:i,isMergeParam:a,fileName:"".concat(o&&c?s():"").concat(o),modalStatusFieldName:u});case 1:R.value=!1,C.Ay.destroy();case 2:return e.a(2)}},e)})),Z.apply(this,arguments)}function ee(e,t,n){return te.apply(this,arguments)}function te(){return te=Re(Ne().m(function e(t,n,r){var o;return Ne().w(function(e){for(;;)switch(e.n){case 0:return o={},Object.keys(r)&&(o.selectedRows=[],o=De(De({},o),{},"function"==typeof S?{sorter:S(r)}:{sorter:{sortField:r.order?r.field:void 0,sortType:r.order?r.order.replace("end",""):void 0}})),z.value&&Object.keys(t).length&&(o=De(De({},o),{},{pagination:{pageIndex:t.current-1,pageSize:t.pageSize}})),i&&(o=qe({},i,o)),x.$patch(o),e.n=1,V({isMergeParam:!0,isPagination:z.value});case 1:return e.a(2)}},e)})),te.apply(this,arguments)}function ne(){return(ne=Re(Ne().m(function e(t,n){var r,o;return Ne().w(function(e){for(;;)switch(e.n){case 0:if(r=t?We(new Set([].concat(We(M.value||[]),[n[_.value]]))):null===(o=M.value)||void 0===o?void 0:o.filter(function(e){return e!==n[_.value]}),i?x.$patch(qe({},i,{expandedRowKeys:r})):x.expandedRowKeys=r,H.expandedRowKeys=r,"function"!=typeof O){e.n=1;break}return e.n=1,O();case 1:return e.n=2,re();case 2:return e.a(2)}},e)}))).apply(this,arguments)}function re(){return oe.apply(this,arguments)}function oe(){return(oe=Re(Ne().m(function e(){var t,n,o,i,a,u,l,c,s;return Ne().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,r.dY)();case 1:if(!(n=null===(t=I.value)||void 0===t?void 0:t.$el)||!H.dataSource.length){e.n=3;break}return o={x:"100%"},i=n.querySelector(".ant-table .ant-table-container"),(a=i.querySelector(".ant-table-content"))?a.offsetHeight>=i.clientHeight&&(o.y=i.clientHeight):(u=i.querySelector(".ant-table-header"),l=i.querySelector(".ant-table-body"),u.clientHeight+l.offsetHeight>=i.clientHeight&&(o.y=u.clientHeight+l.offsetHeight)),H.scroll=o,e.n=2,(0,r.dY)();case 2:c=i.querySelector(".ant-table-header table colgroup"),s=i.querySelector(".ant-table-body table colgroup"),c&&s&&Array.prototype.forEach.call(s.children,function(e,t){c.children[t]&&setTimeout(function(){c.children[t].style.width=s.children[t].getBoundingClientRect().width+"px"})});case 3:return e.a(2)}},e)}))).apply(this,arguments)}function ie(){setTimeout(re,200)}function ae(){return(0,b.throttle)(re,200)}return(0,r.wB)($,function(e){H.columns=e}),(0,r.wB)(G,function(e){H.rowSelection&&(H.rowSelection.selectedRowKeys=e)},{immediate:!0}),(0,r.wB)(function(){return N.componentSize},function(e){H.size=e,"size"in H.pagination&&(H.pagination.size=e)}),(0,r.wB)(L,function(e){null==e||e.map(function(e){var t=H.columns.findIndex(function(t){return"function"==typeof e?t.dataIndex===e.fieldCode:t.dataIndex===e});-1!==t&&H.columns.splice(t,1,De(De({},H.columns[t]),{},{sorter:!0,sortCode:e}))})}),(0,r.wB)(function(){return[N.componentSize,N.fontSize,N.isCompactAlgorithm]},Re(Ne().m(function e(){return Ne().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,re();case 1:return e.a(2)}},e)}))),(0,r.wB)(Q,function(){var e=Re(Ne().m(function e(t){return Ne().w(function(e){for(;;)switch(e.n){case 0:return i?x[i].rowKey:x.rowKey,H.dataSource=(0,u.$1)(t),e.n=1,re();case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()),T&&!t&&(0,r.wB)(T,function(){var e=Re(Ne().m(function e(t){return Ne().w(function(e){for(;;)switch(e.n){case 0:if(!t){e.n=1;break}return e.n=1,V();case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),{immediate:!0}),!1!==(null==p?void 0:p.pagination)&&"object"===ke(D.value)&&(0,r.wB)(D,function(e){H.pagination.total=e.total,H.pagination.pageSize=e.pageSize,H.pagination.current=e.pageIndex+1},{deep:!0}),(0,r.sV)(Re(Ne().m(function e(){var t,n,r;return Ne().w(function(e){for(;;)switch(e.n){case 0:E instanceof Function&&E(I),j||(window.addEventListener("resize",ae()),t=document.querySelector(".tg-inquiry-form .tg-inquiry-form-content"),n=document.querySelector(".tg-collapsed-chart"),(t||n)&&(r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,P=new r(ie),t&&P.observe(t,{attributes:!0,attributeFilter:["style"]}),n&&P.observe(n,{attributes:!0,attributeFilter:["class"]})));case 1:return e.a(2)}},e)}))),(0,r.xo)(function(){x.setState("selectedRows",[]),j||(window.removeEventListener("resize",ae()),P&&(P.disconnect(),P.takeRecords(),P=null))}),{fetchList:V,store:x,currentItem:B,dataSource:Q,exportButtonDisabled:R,handleChange:ee,handleAdd:function(e){x.setVisibilityOfModal({currentItem:(0,b.omit)(e,"id")})},handleEdit:function(e){x.setVisibilityOfModal({currentItem:e})},handleDelete:function(e){return J.apply(this,arguments)},handleClick:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.location,o=n.injectSearchParams;x.setVisibilityOfModal({currentItem:e,modalStatusFieldName:t,location:r,injectSearchParams:o})},handleExport:function(e){return Z.apply(this,arguments)},TGTable:function(){return(0,r.bF)(je.Ay,(0,r.v6)({ref:I,class:"tg-table"},H),H.slots)},handleStatusChange:function(){return X.apply(this,arguments)},resize:re}}var Le={name:"AccountTable",setup:function(){var e=Ke({props:{columns:[{fixed:!0,title:"姓名",width:100,align:"center",dataIndex:"fullName"},{title:"性别",width:80,align:"center",dataIndex:"gender"},{title:"登录名",width:120,dataIndex:"loginName"},{title:"电话号码",width:120,dataIndex:"tel"},{title:"QQ",width:100,dataIndex:"qq"},{title:"邮箱",width:160,dataIndex:"email"},{title:"创建时间",width:140,dataIndex:"createTime"},{title:"备注",width:200,dataIndex:"remark"},{title:"描述",width:400,dataIndex:"description"},{title:"状态",align:"center",width:80,fixed:"right",dataIndex:"status"},{title:"操作",key:"operation",fixed:"right",align:"center",width:180,customRender:function(e){var i=e.record;return[(0,r.bF)(l.A,{type:"link",size:"small",onClick:function(){return n(i)}},{default:function(){return[(0,r.eW)("编辑")]}}),(0,r.bF)(l.A,{type:"link",size:"small",onClick:function(){return t(i)}},{default:function(){return[(0,r.eW)("删除")]}}),(0,r.bF)(l.A,{type:"link",size:"small",onClick:function(){return o(i,"showModalForChangePassword",{location:"modalForChangePassword"})}},{default:function(){return[(0,r.eW)("修改密码")]}})]}}]}}),t=e.handleDelete,n=e.handleEdit,o=e.handleClick,i=e.TGTable;return function(){return(0,r.bF)(i,null,null)}}},_e=(n(48598),n(26910),n(5506),n(75510)),Me=n(41197),Be=n(23518),Qe=n(96355);function ze(e){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(e)}function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach(function(t){He(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function He(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ze(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ze(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ve(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof u?r:u,c=Object.create(l.prototype);return Ye(c,"_invoke",function(n,r,o){var i,u,l,c=0,s=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,l=e,d.n=n,a}};function p(n,r){for(u=n,l=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],p=d.p,v=i[2];n>3?(o=v===r)&&(l=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<v&&(o=n<3||i[0]>r||r>v)&&(i[4]=n,i[5]=r,d.n=v,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,v){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,v),u=s,l=v;(t=u<2?e:l)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,l)):d.n=l:d.v=l);try{if(c=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?l:n.call(r,d))!==a)break}catch(t){i=e,u=1,l=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function u(){}function l(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Ye(t={},r,function(){return this}),t),f=c.prototype=u.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Ye(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=c,Ye(f,"constructor",c),Ye(c,"constructor",l),l.displayName="GeneratorFunction",Ye(c,o,"GeneratorFunction"),Ye(f),Ye(f,o,"Generator"),Ye(f,r,function(){return this}),Ye(f,"toString",function(){return"[object Generator]"}),(Ve=function(){return{w:i,m:d}})()}function Ye(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Ye=function(e,t,n,r){function i(t,n){Ye(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Ye(e,t,n,r)}function Xe(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function Je(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Xe(i,r,o,a,u,"next",e)}function u(e){Xe(i,r,o,a,u,"throw",e)}a(void 0)})}}function Ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return et(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tt={ADD:"ADD",EDIT:"EDIT",DELETE:"DELETE",EXPORT:"EXPORT"};function nt(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.controlButtonPermissions,o=t.setAddParams,i=t.setExportParams,a=(0,r.WQ)("hasTree",!1),u=(0,r.WQ)("refreshTree",void 0),l=(0,d.A)(),c=(0,m.KR)(!0),s=(0,m.KR)(!0),f=(0,m.KR)(!0),p=(0,m.KR)(!1),v=(0,m.KR)({}),y=(0,m.KR)(""),b=(0,r.EW)(function(){return l.search}),g=(0,r.EW)(function(){return l.selectedRowKeys}),w=(0,r.EW)(function(){return l.selectedRows}),O=(0,r.EW)(function(){var e;return null===(e=l.dataSource)||void 0===e?void 0:e.loading});function S(){return P.apply(this,arguments)}function P(){return P=Je(Ve().m(function e(){var t,n,r,i,a,u=arguments;return Ve().w(function(e){for(;;)switch(e.n){case 0:return n=(t=u.length>0&&void 0!==u[0]?u[0]:{}).currentItem,r=void 0===n?{}:n,i=t.injectSearchParams,"function"==typeof o&&(a=o(),r=a.currentItem||r,i=a.injectSearchParams||i),e.n=1,l.setVisibilityOfModal({currentItem:r,injectSearchParams:i});case 1:return e.a(2)}},e)})),P.apply(this,arguments)}function j(){return(j=Je(Ve().m(function e(){return Ve().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,l.setVisibilityOfModal({currentItem:$e({},v.value)});case 1:return e.a(2)}},e)}))).apply(this,arguments)}function F(){return(F=Je(Ve().m(function e(t){return Ve().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,Ae.qp)(Je(Ve().m(function e(){var n;return Ve().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,l.delete();case 1:if(!(n=e.v)||!a){e.n=2;break}return e.n=2,null==u?void 0:u();case 2:return n&&"function"==typeof t&&t(),e.a(2,Promise.resolve(n))}},e)})),function(){return(0,r.bF)("div",null,[(0,r.bF)("div",null,[(0,r.eW)("确定要批量删除已选中的数据吗？")]),(0,r.bF)("div",{style:{color:"#b9b9b9"}},[(0,r.eW)("当前已勾选的序号为："),w.value.map(function(e){return e._sn}).sort(function(e,t){return e-t}).join("，")])])});case 1:return e.a(2)}},e)}))).apply(this,arguments)}function A(e,t,n){return E.apply(this,arguments)}function E(){return E=Je(Ve().m(function e(t,n,r){var o,a,u,c=arguments;return Ve().w(function(e){for(;;)switch(e.n){case 0:if(o=c.length>3&&void 0!==c[3]&&c[3],C.Ay.loading({content:"正在导出，请稍候...",duration:0}),"function"==typeof i&&(a=i(),t=a.fileName||t,n=a.payload||n,r=a.apiName||r,o=a.isTimeName||o),t){e.n=1;break}throw new Error("请传入导出文件名");case 1:return u=function(){return"[".concat(Te()(new Date).format("YYYYMMDDHHmmss"),"]")},p.value=!0,e.n=2,l.exportData({params:$e($e({},h.Ay.currentRoute.value.query),n),addSortParams:!0,apiName:r,fileName:"".concat(t&&o?u():"").concat(t)});case 2:p.value=!1,C.Ay.destroy();case 3:return e.a(2)}},e)})),E.apply(this,arguments)}return(0,r.wB)(w,function(t){c.value=1!==t.length,s.value=!t.length,f.value=!t.length,"function"==typeof n&&Object.entries(n(t)).forEach(function(t){var n=Ze(t,2),r=n[0],o=n[1];e[r]=o}),1===t.length?v.value=t[0]:v.value={},y.value=t.map(function(e){return e.id}).join()}),{FunctionButtonEnum:tt,buttonDisabled:O,editButtonDisabled:(0,r.EW)(function(){return O.value||c.value}),deleteButtonDisabled:(0,r.EW)(function(){return O.value||s.value}),auditButtonDisabled:(0,r.EW)(function(){return O.value||f.value}),exportButtonDisabled:(0,r.EW)(function(){return O.value||p.value}),editedRow:v,selectedRows:w,selectedRowKeys:g,search:b,ids:y,store:l,TGFunction:function(e,t){var n=t.slots,o=e.align,i=void 0===o?"right":o,a=e.functionButtons,u=void 0===a?[]:a;return(0,r.bF)(D.Ay,{class:"tg-function".concat(i?" ".concat(i):"")},{default:function(){return[[(null==u?void 0:u.includes(tt.ADD))&&(0,r.bF)(ue,{key:"add",type:"primary",identification:"ADD",disabled:O.value,onClick:function(){return S()},icon:(0,r.bF)(_e.A,null,null)},{default:function(){return[(0,r.eW)("新增")]}}),(null==u?void 0:u.includes(tt.DELETE))&&(0,r.bF)(ue,{key:"delete",danger:!0,identification:"DELETE",disabled:s.value,onClick:function(){return function(e){return F.apply(this,arguments)}()},icon:(0,r.bF)(Me.A,null,null)},{default:function(){return[(0,r.eW)("删除")]}}),(null==u?void 0:u.includes(tt.EDIT))&&(0,r.bF)(ue,{key:"update",identification:"UPDATE",disabled:c.value,onClick:function(){return function(){return j.apply(this,arguments)}()},icon:(0,r.bF)(Be.A,null,null)},{default:function(){return[(0,r.eW)("修改")]}}),(null==u?void 0:u.includes(tt.EXPORT))&&(0,r.bF)(ue,{key:"export",identification:"EXPORT",disabled:p.value,onClick:function(){return A()},icon:(0,r.bF)(Qe.A,null,null)},{default:function(){return[(0,r.eW)("导出")]}})],n.default&&n.default()]}})},handleAdd:S,handleClick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.currentItem,n=e.modalStatusFieldName,r=e.location,o=e.injectSearchParams,i=e.merge;l.setVisibilityOfModal({currentItem:t,modalStatusFieldName:n,location:r,injectSearchParams:o,merge:i})},handleExport:A}}var rt={name:"AccountFunctions",setup:function(){var e=nt().TGFunction;return function(){return(0,r.bF)(e,{functionButtons:tt.ADD},null)}}},ot=n(72905),it=n(66543),at=n(74232),ut=n(97339),lt=n(6011),ct={name:"ModalForEditingAccounts",setup:function(){var e={width:810,title:"{ACTION}账户",onOk:function(){return a()}},t=(0,lt.A)({modalProps:e,rules:{fullName:[{required:!0,message:"请输入职员姓名"}],gender:[{required:!0,type:"number",message:"请选择性别"}],loginName:[{required:!0,message:"请输入职员登录名"}],loginPwd:[{required:!0,message:"请输入职员登录密码"}],sortIndex:[{required:!0,message:"请输入排序值"}]},location:"modalForEditing"}),n=t.formModel,o=t.validateInfos,a=t.handleFinish,u=t.TGFormModal,l=t.currentItem;return function(){return(0,r.bF)(u,null,{default:function(){return[(0,r.bF)(Y.Ay.Item,(0,r.v6)({label:"姓名",class:"half"},o.fullName),{default:function(){return[(0,r.bF)(i.Ay,{value:n.fullName,"onUpdate:value":function(e){return n.fullName=e},maxLength:10,placeholder:"请输入职员姓名",allowClear:!0},null)]}}),(0,r.bF)(Y.Ay.Item,(0,r.v6)({label:"性别",class:"half"},o.gender),{default:function(){return[(0,r.bF)(X.Ay,{value:n.gender,"onUpdate:value":function(e){return n.gender=e},placeholder:"请选择性别"},{default:function(){return[(0,r.bF)(X.Ay.Option,{value:0},{default:function(){return[(0,r.eW)("未知")]}}),(0,r.bF)(X.Ay.Option,{value:1},{default:function(){return[(0,r.eW)("男")]}}),(0,r.bF)(X.Ay.Option,{value:2},{default:function(){return[(0,r.eW)("女")]}})]}})]}}),(0,r.bF)(Y.Ay.Item,(0,r.v6)({label:"登录名",class:"half"},o.loginName),{default:function(){return[(0,r.bF)(i.Ay,{value:n.loginName,"onUpdate:value":function(e){return n.loginName=e},maxLength:32,disabled:!!l.value.id,autocomplete:"off",placeholder:"请输入职员登录名",allowClear:!0},null)]}}),!l.value.id&&(0,r.bF)(Y.Ay.Item,(0,r.v6)({label:"密码",class:"half"},o.loginPwd),{default:function(){return[(0,r.bF)(it.A,{value:n.loginPwd,"onUpdate:value":function(e){return n.loginPwd=e},maxLength:32,placeholder:"请输入职员登录密码",allowClear:!0},null)]}}),(0,r.bF)(Y.Ay.Item,{label:"联系电话",class:"half"},{default:function(){return[(0,r.bF)(i.Ay,{value:n.tel,"onUpdate:value":function(e){return n.tel=e},maxLength:32,placeholder:"请输入联系电话",allowClear:!0},null)]}}),(0,r.bF)(Y.Ay.Item,{label:"邮箱",class:"half"},{default:function(){return[(0,r.bF)(i.Ay,{value:n.email,"onUpdate:value":function(e){return n.email=e},maxLength:52,placeholder:"请输入邮箱",allowClear:!0},null)]}}),(0,r.bF)(Y.Ay.Item,{label:"QQ",class:"half"},{default:function(){return[(0,r.bF)(i.Ay,{value:n.qq,"onUpdate:value":function(e){return n.qq=e},maxLength:32,placeholder:"请输入QQ号码",allowClear:!0},null)]}}),(0,r.bF)(Y.Ay.Item,(0,r.v6)({label:"排序",class:"half"},o.sortIndex),{default:function(){return[(0,r.bF)(at.A,{value:n.sortIndex,"onUpdate:value":function(e){return n.sortIndex=e},min:0,max:99999999,step:1,precision:0,placeholder:"数值越大排在越前",allowClear:!0,style:{width:"100%"}},null)]}}),(0,r.bF)(Y.Ay.Item,{label:"状态",class:"half"},{default:function(){return[(0,r.bF)(ut.Ay,{checked:n.status,"onUpdate:checked":function(e){return n.status=e},checkedValue:1,unCheckedValue:0},null)]}})]}})}}},st={name:"Accounts",setup:function(){return function(){return(0,r.bF)(V,null,{function:function(){return(0,r.bF)(rt,null,null)},inquiry:function(){return(0,r.bF)(Pe,null,null)},table:function(){return(0,r.bF)(Le,null,null)},modals:function(){return[(0,r.bF)(ct,null,null),(0,r.bF)(ot.A,null,null)]}})}}}}}]);