.tg-editor-container {
  height: 100%;

  .tg-editor-header {
    height: 48px;
    flex: none;
    padding: 8px 16px;
    background: var(--tg-theme-color-bg-container);
    border-bottom: 1px solid var(--tg-theme-color-border);

    .tg-editor-tools {

    }
  }

  .tg-editor-material-wrapper {
    .tg-editor-material-container {
      height: 100%;
      padding: 12px;
      user-select: none;
      overflow-y: auto;

      .tg-editor-material-category {
        margin-bottom: 20px;

        .tg-editor-material-title {
          font-weight: bolder;
          border-bottom: 1px solid #e3e3e3;
        }

        .tg-editor-material-items {
          margin-bottom: 20px;
          border: 1px dashed #d9d9d9;
          padding: 8px;
          transition: all 0.3s;

          [draggable='true'] {
            cursor: grab;

            &:active {
              cursor: grabbing;
            }
          }

          & > * {
            cursor: move;
            width: 100%;
          }

          &:hover {
            border-color: #1890ff;
            background-color: #e6f7ff;
          }
        }
      }
    }
  }

  .tg-editor-canvas-wrapper {
    padding: 12px;
    background: #f5f5f5;

    .tg-editor-canvas-container {
      position: relative;
      background: #ffffff;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      height: 100%;
      padding: 15px;
      user-select: none;
      overflow-y: auto;
      z-index: 1; // 确保层级高于其他元素

      // 修复Ant Design的布局干扰
      .ant-layout-content > & {
        pointer-events: auto !important;
      }

      &::before,
      &::after {
        content: '';
        position: absolute;
        top: 0;
        height: 15px;
        left: 0;
        right: 0;
        z-index: 1000;
        pointer-events: none;
      }

      .tg-editor-canvas-component {
        position: relative;
        transition: all 0.2s;
        transform: translateZ(0); // 强制开启GPU加速
        backface-visibility: hidden;
        outline: 1px dashed transparent;
        user-select: none; // 防止文字选中干扰
        touch-action: none; // 优化移动端体验
        cursor: move; // 显示可拖动光标
        z-index: 998;

        & > * {
          cursor: move;
        }

        &:hover {
          outline-color: #1890ff;
        }

        &::before {
          content: '';
          position: absolute;
          left: 0;
          right: 0;
          height: 4px;
          background: #1890ff;
          opacity: 0;
          transition: opacity 0.1s linear;
          will-change: opacity; // 启用硬件加速
          z-index: 999;
        }

        &::after {
          content: '';
          position: absolute;
          left: 0;
          right: 0;
          bottom: 0;
          height: 4px;
          pointer-events: none;
          border: 2px dashed #1890ff;
          opacity: 0;
          transition: opacity 0.2s;
          z-index: 999;
        }

        &.dragging-over {
          &::after {
            opacity: 0.3;
          }
        }

        &.nearby-top::before {
          top: -2px;
          opacity: 1;
          background: #1890ff;
          box-shadow: 0 2px 8px rgba(24, 144, 255, 0.3);
        }

        &.nearby-bottom::before {
          bottom: -2px;
          opacity: 1;
          background: #1890ff;
          box-shadow: 0 -2px 8px rgba(24, 144, 255, 0.3);
        }

        &.nearby-top::before,
        &.nearby-bottom::before {
          animation: pulse 1s infinite; // 添加呼吸动画
        }

        &.dragging {
          position: relative;
          z-index: 9999 !important;
          opacity: 0.5;
          transform: scale(0.95);
          transition: all 0.2s;

          &:hover {
            opacity: 1;
            transform: scale(1);
          }
        }

        &.drag-overlay {
          box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }
      }

      // 呼吸动画
      @keyframes pulse {
        0%, 100% {
          opacity: 1;
        }
        50% {
          opacity: 0.6;
        }
      }
    }
  }

  .tg-editor-property-wrapper {
    padding: 10px;

    .tg-editor-property-container {
      display: flex;
      flex-direction: column;
      gap: 10px;
      height: 100%;
      overflow-y: auto;

      .tg-editor-form-item {
        display: flex;
        flex-direction: column;
        align-items: flex-start;

        & > * {
          width: 100%;
        }
      }
    }
  }
}
