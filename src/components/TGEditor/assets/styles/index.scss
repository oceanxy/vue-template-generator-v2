.tg-editor-container {
  height: 100%;

  .tg-editor-header {
    position: relative;
    height: 48px;
    flex: none;
    padding: 8px 16px;
    background: var(--tg-theme-color-bg-container);
    border-bottom: 1px solid var(--tg-theme-color-border);

    .tg-editor-tools {
      .save-status-bar {
        position: absolute;
        bottom: -2px;
        left: 0;
        right: 0;
        height: 2px;
        background: rgba(24, 144, 255, 0.1);

        .save-progress {
          width: 0;
          height: 100%;
          background: #1890ff;
          transition: width 1s ease;
          animation: savingProgress 1.5s infinite;
        }
      }

      @keyframes savingProgress {
        0% {
          width: 0;
          opacity: 1;
        }
        50% {
          width: 80%;
          opacity: 0.8;
        }
        100% {
          width: 100%;
          opacity: 0;
        }
      }
    }
  }

  .tg-editor-material-wrapper {
    .tg-editor-material-container {
      height: 100%;
      padding: 12px;
      user-select: none;
      overflow-y: auto;

      .tg-editor-material-category {
        margin-bottom: 20px;

        .tg-editor-material-title {
          font-weight: bolder;
          border-bottom: 1px solid #e3e3e3;
        }

        .tg-editor-material-items {
          margin-bottom: 20px;
          border: 1px dashed #d9d9d9;
          padding: 8px;
          transition: all 0.3s;

          [draggable='true'] {
            cursor: grab;

            &:active {
              cursor: grabbing;
            }
          }

          & > * {
            cursor: move;
            width: 100%;
          }

          &:hover {
            border-color: #1890ff;
            background-color: #e6f7ff;
          }
        }
      }
    }
  }

  .tg-editor-canvas-wrapper {
    padding: 12px;
    background: #f5f5f5;
    flex: 1;
    min-height: 0;
    display: flex;
    flex-direction: column;

    .tg-editor-canvas-container {
      position: relative;
      background: #ffffff;
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 15px;
      user-select: none;
      overflow-y: auto;
      z-index: 1;
      height: 100%;

      .tg-editor-drag-placeholder {
        display: none;
        position: absolute;
        left: 15px !important; // 匹配容器padding
        right: 15px !important;
        width: calc(100% - 30px) !important; // 补偿容器padding
        height: 2px;
        background: #1890ff;
        box-shadow: 0 2px 6px rgba(24, 144, 255, 0.4);
        z-index: 9999;
        pointer-events: none;
        transition: top 0.05s cubic-bezier(0.4, 0, 0.2, 1);

        &[data-active='true'] {
          display: block;
        }
      }

      &::before,
      &::after {
        content: '';
        position: absolute;
        top: 0;
        height: 15px;
        left: 0;
        right: 0;
        z-index: 1000;
        pointer-events: none;
      }

      .tg-editor-canvas-component {
        position: relative;
        transition: all 0.2s;
        transform: translateZ(0); // 强制开启GPU加速
        backface-visibility: hidden;
        outline: 1px dashed transparent;
        user-select: none; // 防止文字选中干扰
        touch-action: none; // 优化移动端体验
        cursor: move; // 显示可拖动光标
        z-index: 998;

        & > * {
          cursor: move;
        }

        &:hover {
          outline-color: #1890ff;
        }

        &::before {
          content: '';
          position: absolute;
          left: 0;
          right: 0;
          height: 4px;
          background: #1890ff;
          opacity: 0;
          transition: opacity 0.1s linear;
          will-change: opacity; // 启用硬件加速
          z-index: 999;
        }

        &::after {
          content: '';
          position: absolute;
          left: 0;
          right: 0;
          bottom: 0;
          height: 4px;
          pointer-events: none;
          border: 2px dashed #1890ff;
          opacity: 0;
          transition: opacity 0.2s;
          z-index: 999;
        }

        &.dragging {
          opacity: 0.6;
          transform: scale(0.98);
          transition: all 0.2s ease-out;
          z-index: 9999;

          &::after {
            content: '';
            position: absolute;
            inset: 0;
            border: 2px dashed #1890ff;
          }
        }
      }
    }
  }

  .tg-editor-property-wrapper {
    padding: 10px;

    .tg-editor-property-container {
      display: flex;
      flex-direction: column;
      gap: 10px;
      height: 100%;
      overflow-y: auto;

      .tg-editor-form-item {
        display: flex;
        flex-direction: column;
        align-items: flex-start;

        & > * {
          width: 100%;
        }
      }
    }
  }
}
